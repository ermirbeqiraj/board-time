function addMyMsgInList(){var n=(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase();return $("#chatList").append('<li id="'+n+'"  class="right clearfix"><div class="chat-body clearfix"><div class="header pull-right"><strong class="primary-font">'+htmlEncode($("#displayname").val())+'<\/strong>&nbsp;&nbsp;<small class="text-muted"><span class="glyphicon glyphicon-time"><\/span><span id="msgTime_'+n+'"> Just Now <\/span><\/small><\/div><p class="col-md-10 pull-right">'+htmlEncode($("#message").val())+"<\/p><\/div><\/li>"),$(".panel-body").scrollTop(1e4),n}function saveMessage(n,t,i){try{$.ajax({url:"/Home/InsertMessage",dataType:"json",type:"POST",contentType:"application/json; charset=utf-8",data:JSON.stringify({to:n,message:t}),async:!0,processData:!1,cache:!1,success:function(r){if(r.Status){callHubNow(n,t);var u="#msgTime_".concat(i);$(u).text(r.Content)}else console.error(r.Content)},error:function(n){console.error(n)}})}catch(r){console.error(r.description)}}function prepareSend(n){$("#sendto").val(n);$("#chatList").empty();getlastMessages(n);var t=document.getElementById("badge_"+n.toString());$(t).hide();$("#message").prop("disabled",!1);$("#sendOnEnterKey").prop("disabled",!1);$("#sendmessage").prop("disabled",!1);$("#message").val("").focus()}function getlastMessages(n){try{$.ajax({url:"/Home/GetConversation",dataType:"json",type:"POST",contentType:"application/json; charset=utf-8",data:JSON.stringify({partner:n}),async:!0,processData:!1,cache:!1,success:function(n){for(var t,u,f=$("#myid").val(),r=$("#sendto").val(),e=$("#displayname").val(),o="displayas_"+r,s=document.getElementById(o).innerText,i=0;i<n.length;i++){t=n[i];u=t.Sender.trim();switch(u){case f:$("#chatList").append('<li class="right clearfix"><div class="chat-body clearfix"><div class="header pull-right"><strong class="primary-font">'+e+'<\/strong>&nbsp;&nbsp;<small class=" text-muted"><span class="glyphicon glyphicon-time"><\/span>'+t.Created+'<\/small><\/div><p class="col-md-10 pull-right">'+htmlEncode(t.Message)+"<\/p><\/div><\/li>");break;case r:$("#chatList").append('<li class="left clearfix"><div class="chat-body clearfix"><div class="header pull-left"><strong class="primary-font">'+s+'<\/strong>&nbsp;&nbsp;<small class=" text-muted"><span class="glyphicon glyphicon-time"><\/span>'+t.Created+'<\/small><\/div><p class="col-md-10 pull-right">'+htmlEncode(t.Message)+"<\/p><\/div><\/li>")}}$(".panel-body").scrollTop(1e4)},error:function(n){console.error(n)}})}catch(t){console.error(t.description)}}
//# sourceMappingURL=chatHelpers.min.js.map
